<div class="container-fluid">
<div class="row">
<div class="col-sm-3">
<h1 class="title">Find a Project</h1>
  <div class="form-group">
    <label>Search</label>
    <input type="text" ng-model="searchTerm" ng-model-options="{debounce: 1000}" ng-change="updateFilter()" class="form-control"/ Placeholder="Search for a project...">
  </div>
  <div class="form-group">
    <label>Department</label>
    <input type="text" ng-model="departmentName" uib-typeahead="department.department for department in departments | filter:$viewValue | limitTo:8" class="form-control" typeahead-show-hint="true" typeahead-editable="false" typeahead-on-select="onSelect($item, $model, $label)" placeholder="Select a department...">
  </div>
  <div class="form-group">
    <label>Division</label>
    <input type="text" ng-model="divisionName" uib-typeahead="division.division for division in divisions | filter:$viewValue | limitTo:8" class="form-control" typeahead-show-hint="true" typeahead-editable="false" typeahead-on-select="onSelect($item, $model, $label)" placeholder="Select a division...">
  </div>
  <div class="row">
  <div class="form-group col-sm-6">
    <label>Council District</label>
    <select class="form-control" ng-change="updateFilter()" ng-options="district for district in council" ng-model="councilDistrict"></select>
  </div>
  <div class="form-group col-sm-6">
  <label>Status</label>
  <div class="checkbox">
    <label><input type="checkbox" ng-model="showNs" ng-change="updateFilter()" checked>Not Started</label>
  </div>
  <div class="checkbox">
    <label><input type="checkbox" ng-model="showIp" ng-change="updateFilter()" checked>In Progess</label>
  </div>
  <div class="checkbox">
    <label><input type="checkbox" ng-model="showC" ng-change="updateFilter()" checked>Completed</label>
  </div>
  </div>
</div>
<button class="btn btn-primary btn-responsive" ng-click="clearFilter()">Clear Filters</button>
<pre>
  SELECT * from view_project_list 
  WHERE 
  full_text @@ to_tsquery('{{searchTerm}}') 
  AND department_id = {{departmentId}} 
  AND division_id = {{divisionId}} 
  AND council_districts ? '{{councilDistrict}}'
  AND (phase_status = 'Not Started')
</pre>
</div>
<div class="col-sm-9">
        <style>.angular-google-map-container { height: 600px; margin-top:15px; }</style>
        <ui-gmap-google-map center='map.center' zoom='map.zoom'>
            <ui-gmap-marker ng-repeat="projectMarker in projectMarkers" coords="projectMarker.coords" options="projectMarker.options" events="projectMarker.events" idkey="projectMarker.id" click="markerClick">
            <ui-gmap-window>
                <div>
                  <span class="pointer" ui-sref="{{projectMarker.properties.stateLink}}">
                  <h3 class="title">{{projectMarker.properties.project}}</h3>
                  <h4 class="in-progress">{{projectMarker.properties.phase}} Phase {{projectMarker.properties.status}}</h4>
                  <p class="phase-details">Budget: {{projectMarker.properties.budget}} | Schedule: {{projectMarker.properties.schedule}} | Work: {{projectMarker.properties.workComplete}}</p>
                  </span>
                </div>
            </ui-gmap-window>
        </ui-gmap-marker>
        </ui-gmap-google-map>
</div>
</div>
</div>